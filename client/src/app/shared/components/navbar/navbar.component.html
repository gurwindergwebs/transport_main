<header class="navbar" [class.sidebar-collapsed]="isSidebarCollapsed">
  <div class="navbar-left">
    <button class="toggle-btn" (click)="onToggleSidebar()" aria-label="Toggle sidebar">
      <lucide-icon [img]="Menu" [size]="20"></lucide-icon>
    </button>
  </div>

  <div class="navbar-center">
    <div class="search-container-center">
      <lucide-icon [img]="Search" [size]="18" class="search-icon"></lucide-icon>
      <input type="text" class="search-input" placeholder="Search...">
    </div>
  </div>

  <div class="navbar-right">
    <button class="icon-btn theme-toggle" (click)="toggleTheme()" aria-label="Toggle theme">
      <lucide-icon [img]="themeService.isDarkMode() ? Sun : Moon" [size]="18"></lucide-icon>
    </button>

    <div class="notification-wrapper">
      <button class="icon-btn notification-btn" (click)="toggleNotifications()" aria-label="Notifications">
        <lucide-icon [img]="Bell" [size]="18"></lucide-icon>
        <span class="badge">3</span>
      </button>
      
      <div class="dropdown notification-dropdown" [class.show]="showNotifications">
        <div class="dropdown-header">
          <h3>Notifications</h3>
          <span class="notification-count">3 new</span>
        </div>
        <div class="dropdown-body">
          @for (notification of notifications; track notification.id) {
            <div class="notification-item" 
                 [class.unread]="notification.unread">
              <div class="notification-content">
                <p class="notification-title">{{ notification.title }}</p>
                <span class="notification-time">{{ notification.time }}</span>
              </div>
            </div>
          }
        </div>
        <div class="dropdown-footer">
          <a href="#" class="view-all-link">View all notifications</a>
        </div>
      </div>
    </div>

    <div class="profile-wrapper">
      <button class="profile-btn" (click)="toggleProfileMenu()" aria-label="Profile menu">
        <div class="profile-avatar">
          <lucide-icon [img]="User" [size]="18"></lucide-icon>
        </div>
        <span class="profile-name">Admin User</span>
        <span class="dropdown-arrow">â–¼</span>
      </button>
      
      <div class="dropdown profile-dropdown" [class.show]="showProfileMenu">
        <div class="dropdown-header">
          <div class="profile-info">
            <div class="profile-avatar-large">
              <lucide-icon [img]="User" [size]="20"></lucide-icon>
            </div>
            <div class="profile-details">
              <p class="profile-name-text">Admin User</p>
              <p class="profile-email">admin@example.com</p>
            </div>
          </div>
        </div>
        <div class="dropdown-body">
          <a href="#" class="dropdown-item">
            <lucide-icon [img]="User" [size]="16" class="item-icon"></lucide-icon>
            <span>Profile</span>
          </a>
          <a href="#" class="dropdown-item">
            <lucide-icon [img]="Settings" [size]="16" class="item-icon"></lucide-icon>
            <span>Settings</span>
          </a>
          <a href="#" class="dropdown-item">
            <lucide-icon [img]="CreditCard" [size]="16" class="item-icon"></lucide-icon>
            <span>Billing</span>
          </a>
          <div class="dropdown-divider"></div>
          <a href="#" class="dropdown-item logout">
            <lucide-icon [img]="LogOut" [size]="16" class="item-icon"></lucide-icon>
            <span>Logout</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</header>

@if (showNotifications || showProfileMenu) {
  <div class="overlay" (click)="closeDropdowns()"></div>
}
